### Детальное описание представлений данных

1. **Планируемые расходы (прошлые и будущие)**
   - **Цель:**
     Показать ближайшие запланированные расходы, включая:
     - Расходы с прошедшей датой, которые еще не были совершены, но на них уже есть фактические средства.
     - Расходы с будущей датой, которые ожидаются.
   - **Условия:**
     - Отображаются только те планы расходов, на которые есть фактические средства.
     - Данные сортируются по дате, начиная с прошлых и переходя к ближайшим будущим.
     - Планируемые доходы или планы, которые не связаны с конкретными расходами, не отображаются.

2. **Распределение фактических денег по планам**
   - **Цель:**
     Показать текущее распределение фактических средств между всеми активными планами, включая фонды, хранилища и запланированные расходы.
   - **Условия:**
     - Планы отображаются по их типу: фонды, хранилища, запланированные расходы.
     - Распределение представляется в виде процента от общего баланса пользователя.
     - Планы с автоматическим израсходованием всех поступлений или без текущего остатка не отображаются.

3. **Будущее распределение по фондам и накоплениям**
   - **Цель:**
     Показать прогнозируемое распределение средств в будущем по накопительным планам и фондам, а также:
     - Отразить текущий прогноз относительно ранее сделанных прогнозов.
     - Сравнить реальный текущий момент с прогнозируемым.
     - Показать минимальные пессимистичные цели для каждого плана.
     - Указать точки цели для некоторых планов.
   - **Условия:**
     - Исключаются:
       - Планы с автоматическим израсходованием всех поступлений.
       - Планируемые доходы.
       - Планируемые расходы (считается, что они будут полностью выполнены).
     - Данные отображаются начиная с нуля до настоящего момента и в будущее.
     - Средства отображаются по периодам (например, по месяцам) и распределяются между накоплениями и фондами.
   - **График:**
     На графике показываются:
     - Фактические текущие значения.
     - Прогнозируемые значения.
     - Минимальные пессимистичные цели (обозначены пунктирной линией).
     - Точки цели для планов (обозначены маркерами на конкретных датах).
     - Сравнение реальных и прогнозируемых значений в текущем моменте.

4. **Распределение доходов по планам, расходам и категориям (прошлое и будущее)**
   - **Цель:**
     - Показать, как реальные доходы распределялись по планам в прошлом и как прогнозируемые доходы будут распределяться по планам в будущем.
     - Указать реальное распределение доходов по транзакциям и категориям расходов в прошлом.
   - **Режимы:**
     - Распределение по планам: отображает фактические и прогнозируемые суммы.
     - Распределение по расходам: показывает, на что реально были потрачены деньги.
     - Распределение по категориям: группирует расходы по категориям транзакций.
   - **Условия:**
     - Предполагается, что все запланированные доходы и расходы будут выполнены.
     - Отображаются только планы-фонды и текущие правила распределения.
     - Для каждого дохода отображается:
       - Суммы, распределенные по планам.
       - Прогнозируемое распределение будущих доходов с учетом автораспределения и ручных трансферов.
       - Реальное использование средств на расходы.
       - Эталонное распределение доходов.
     - Включает категории расходов из транзакций.

5. **Инвентаризация и соответствие баланса кошельков**
   - **Цель:**
     Сравнить баланс по транзакциям с балансом по кошелькам, полученным через инвентаризацию.
   - **Условия:**
     - Отображаются даты инвентаризации, балансы по кошелькам и рассчитанные балансы по транзакциям.
     - Отклонения выделяются для визуального анализа.
   - **График:**
     - Две линии:
       - Баланс по кошелькам.
       - Баланс по транзакциям.
     - Идеальное соответствие — совпадающие линии. Отклонения визуализируются как расхождения между линиями.

6. **Время задержки средств**
   - **Цель:**
     Показать, как долго средства задерживаются перед их использованием.
   - **Условия:**
     - Ось абсцисс: дата поступления средств.
     - Ось ординат: количество дней от даты поступления до даты использования.
     - Используются только реальные доходы и расходы.

7. **Планы с отрицательным балансом и неподкрепленные транзакции**

   - **Цель:**
     Показать планы, которые имеют отрицательный баланс, и транзакции, которые не связаны с планами, для анализа потока финансов.

   - **Условия:**

     - Первая таблица отображает планы без родительских планов и с отрицательным балансом.
     - Вторая таблица отображает транзакции, которые не привязаны к планам.

   - **Тоталы:**

     - Общий отрицательный баланс по планам.
     - Общая сумма неподкрепленных транзакций.

8. **Баланс планов во времени**

   - **Цель:**
     Показать динамику балансов планов во времени, чтобы следить за тем, чтобы баланс не становился отрицательным.

   - **Условия:**

     - Для каждого плана строится график баланса во времени.
     - Предполагается, что все планируемые доходы и расходы будут выполнены.

   - **Цель визуализации:**

     - Выявить планы, которые могут уйти в отрицательный баланс, и предпринять действия для коррекции.
